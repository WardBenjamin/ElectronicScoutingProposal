% arara: pdflatex
% arara: biber
% arara: pdflatex

\documentclass[11pt]{report}

%=====================================
%				Packages
%=====================================

% Titling

\usepackage{titling} 				% Used for pre/post title options
%\usepackage{titlesec}				% Used for title formatting

% Formatting

\usepackage[letterpaper]{geometry} 		% Defines margins and other options as standard letter paper instead of A4.
\usepackage{indentfirst} 				% Indents the first paragraph in each section
\usepackage{biblatex}				% Improved bibliography system

% Content

\usepackage{graphicx} 				% Provides image support

% Misc

\usepackage[hidelinks]{hyperref}		% Used to link ToC entries to their relevant sections		% Note: This overrides a LOT of macros. It should be last if possible.

%=====================================
%				Configuration
%=====================================


%\titleformat*{\section}{\LARGE\bfseries}
%\titleformat*{\subsection}{\Large\bfseries}
%\titleformat*{\subsubsection}{\large\bfseries}
%\titleformat*{\paragraph}{\large\bfseries}
%\titleformat*{\subparagraph}{\large\bfseries}

%=====================================
%				Bibliography
%=====================================

\addbibresource{amazon.bib}

%=====================================
%				Title settings
%=====================================

\pretitle{%
  \begin{center}
  \LARGE
  \includegraphics[width=\textwidth]{chsrobologo}
  \newline\newline\newline\newline\newline
}

\title{ \protect\parbox{\textwidth}{\protect\centering Chantilly Robotics\\ Electronic Scouting System 2016}}

\posttitle{\end{center}}

\date{2016-09-27}
\author{Benjamin Ward}

%=====================================
%				Content
%=====================================

\begin{document}

\begin{titlingpage}
\maketitle
\end{titlingpage}

\newpage

%\renewcommand*\contentsname{Table of Contents} % Set ToC title to "Table of Contents" instead of "Contents"
\tableofcontents

\newpage

%=============================================================

\chapter{Introduction}

\section{Background}

\subsection{Goal}

\textbf{The goal of a scouting system is to allow for seamless data input, processing, and visualization that can be used for both match strategy and alliance selection.}

\subsection{Why a Scouting System?}

Scouting systems, whether “paper and pencil” or electronic, provide useful information to the team regarding both match strategy and alliance selection. The more information a team has to utilize, the better their chanceschanges are to formulate optimal strategic decisions before and during competitions. Using collected information, strategies can be formed based on the alliance’s strengths and the opposing alliance’s weaknesses. These strategies are necessary for success, as alliance partners influence the outcomes of each match and, ultimately, the entire competition. Without a scouting system, even a team with a well-performing robot will have difficulty during competition due to lack of quantitative information. 

\subsection{History}

Over the last several years, Chantilly Robotics has utilized SPAM (FRC 180)'s "Poor Man's Scouting System", a paper and pencil system where information is recorded on spreadsheets. For searchability and visualization purposes, our team added the extra step of transcribing this data onto a computerized spreadsheet.

\subsection{Electronic vs. Paper}

From our past experience, as Chantilly Robotics has used a paper and pencil system since 2013, paper scouting has both advantages and disadvantages over electronic scouting. When using a paper scouting system, data collection tends to be very efficient but any processing is highly impractical, requiring at least one extra dedicated scout at best to do even rudimentary spreadsheet processing. Far more data processing is possible if scouting is consolidated into a single semi-automated system, including data collection, processing, and visualization, as in most electronic scouting systems.

%=============================================================

\section{Proposed System Overview}

\subsection{Why Mobile?}

Most functionality in the proposed system is in the form of applications, or "apps", running on mobile devices (i.e., phones and tablets). This is done for three reasons:

\begin{enumerate}
\item Portability
\item Power Requirements
\item Costs
\end{enumerate}

\subsubsection*{Portability}

The ability to effectively transport and run the system at a variety of competitions, all with different seating, environments, etc.

\subsubsection*{Power}

Much lower power requirements; some mobile devices will last for 12+ hours per day. This allows for less dependance on power availability, and opens further power options that will be explored in \

\subsubsection*{Costs}

Not only can the costs be offset by personal devices, but in general mobile devices are much more cost-effective and affordable than laptops or other options.

%=============================================================

\subsection{Equipment Requirements}

While electronic scouting systems do successfully utilize personal devices, this creates unneccessary restrictions on who is eligible for both match and pit scouting. Additionally, some of these devices may not be compatible with hardware requirements. For these reasons, personal devices should not be completely relied upon, especially for match scouting. Personal device use will be explored in \autoref{sec:propequip}. \newline

Ideally, at least six match scouting devices and one pit scouting device should be utilized at all times, which means that extra devices will be required to use as backups. Since the requirements for match scouting are slightly different than those of pit scouting in terms of device requirements, the two pools of devices are difficult to share without undue expense. The requirements for scouting devices are as follows: 

\begin{center}
 \begin{tabular}{||c|c|c||} 
 \hline
 Requirement & Match Scouting & Pit Scouting \\  [0.5ex] 
 \hline \hline
 Screen Size & $>$ 7in & N/A \\ 
 \hline
 Rear Camera Resolution & N/A & $>$ 3 MP \\ 
 \hline
 Android Version & \multicolumn{2}{|c||}{$\geq$ 4.4}  \\
 \hline
 Bluetooth Version & \multicolumn{2}{|c||}{$\geq$ 4.0} \\  [1ex] 
 \hline
\end{tabular}
\end{center}

%=============================================================

\subsection{Proposed Equipment}
\label{sec:propequip}

\subsubsection{Match Scouting}

In an attempt to create the lowest possible cost without sacrificing major features, the best low-cost tablet suitable for match scouting is the Amazon Fire HD 8. While more expensive than the\lq\lq{default}\rq\rq{} Fire tablet, the Fire HD 8 has several large advantages. A comparison of the specifications follows, from the Amazon Device and Feature Specifications \cite{amazondevicespec}:

\begin{center}
 \begin{tabular}{||c|c|c||} 
 \hline
 & Fire & Fire HD 8 \\  [0.5ex] 
 \hline \hline
 Screen Size & 7in & 8in \\ 
 \hline
 Screen Resolution & 1024px x 600px & 1280px x 800px
 \hline
 RAM & 1 GB & 1.5 GB \\ 
 \hline
 CPU & Cortex A7 & Cortex-A53\\
 \hline
 Fire OS Version & 5.3 & 5 \\
 \hline
 Android Version Base & 5.1.1 & 5.1 \\
 \hline
 Bluetooth Version & 4.0 LE & 4.1 LE \\  [1ex] 
 \hline
\end{tabular}
\end{center}

\subsubsection{Pit Scouting}

Pit scouting differs from match scouting in that the required devices have much fewer requirements; since pit scouting does not require a large amount of user interface to be visible at all times, almost any screen size is usable. This enables a far wider range of devices to be used, and as an effect of this most personal Android devices should be able to be used, as long as they have a good rear camera, which most do. For this reason, there is no specific recommended device to use in leiu of a team-member-owned device. \newline

The use of a camera to record visual data does invalidate the use of the Fire/Fire HD 8 for pit scouting, since neither has a sufficient camera. However, this is not forseen as a problem due to the availability of team-member devices.

%=============================================================
 
\subsection{Android vs. iOS}

For scouting purposes, restricting an electronic system to Android has both advantages and disadvantages. Since iOS inherantly is more expensive and more difficult to test, due to the requirement of an available Mac (including a Macbook Air, Macbook Pro, Mac Mini, or any other current-generation full Apple PC) for iOS app development as well as a much more expensive development license (100 dollars per year vs. 25 dollars one-time) in addition to physical iOS devices for testing, Android is much preferred for the majority of the system. Additionally, Android devices are often over an order of magnitude less expensive, which dramatically decreases costs for team-owned devices. \newline

Use of iOS devices in regards to data visualization will be explored further in \autoref{sec:visualization}.

\subsection{Infrastructure}

For the same reasons that phones were chosen to form the majority of the scouting system, the server portion of the system will be fulfilled with a Raspberry Pi 3.

\subsection{Super Scout}

Depending on game-specific requirements, a "super-scout" could be necessary to collect and input data that lies outside the scope of individual robot scouting. For example, in the 2016 game, FIRST Stronghold, a Super Scout would input defense selections, which would then be transmitted to the server and then outwards back ot the match scouting devices. This device could double as a visualization device, but should not be a match scouting device because it would require usage at the same time as said devices.

A Super Scout could also be used to collect subjective data and notes about robots, to add subjective in-match observations to pit scouting data. Again using the example of FIRST Stronghold, this could include notes of the perceived experience of drivers or of alliance match strategy.

\subsection{Notes}

These proposed materials do not include the phones used for processing and viewing data. Due to the widespread nature of mobile devices, it is highly likely that multiple team members would be willing to allow their phones to be used as part of the scouting system while at competition.

%=============================================================
%=============================================================

\chapter{Technical Details}

\section{Data Collection}
\subsection{Match Scouting}

\subsubsection{Usage Procedure}

The match scouting app is designed to be as simple and consistant as possible. To this end, usage is meant to be extremely easy. Upon startup, the app will attempt to connect to the Bluetooth PAN broadcast by the server device. If this is not successful, the app will notify the user. After connection, the user will request a match schedule from the server, which populates the match scouting device with assigned robots for each match. Assignments are based on robot field position, so a scout who scouts Red 1 one match will scout Red 1 for the entire competition, or at least for that day. Assigned robot information is persistent, and only needs to be done once per competition. See \autoref{sec:msdeviceswap} for more information.

After robot assignments have been populated, the scout has the option to ready a match, which moves them to the pre-match screen, and requests the initials of the scout for tracking purposes. The user is required to reenter their initials when readying a new match so that this information is always correct despite scouts switching out. After entry, the app will move to the autonomous screen.


\subsection{Pit Scouting}
\subsection{Prior Data}
\subsubsection{Archival}
\subsubsection{Usage of Archived Data}

%=============================================================

\section{Processing}
\subsection {Server}
\subsection{Hardware}
\subsection{Bluetooth Limitations}
\subsection{Proposed Solutions}

%=============================================================

\section{Visualization}
\label{sec:visualization}

%=============================================================

\section{Solved Problems}
\subsection{Match scouting device swap}
\label{sec:msdeviceswap}

If a match scouting device must be swapped, the old device must exit the app completely and disconnect from the server's Bluetooth PAN to make available that connection slot to the new device. Then, instead of populating the device with assigned robots as normal, the user on the new device will long-tap the button that normally assigns robots to scout each match, which will open an advanced setting menu. In this menu, the user can override the robots that will be scouted, and populate the scouting list with a specific field position, such as Red 1 or Blue 3.

\section{Unsolved Problems}

%=============================================================%=============================================================

\chapter{Logistics}

\section{Development Process}
\subsection{Schedule}

%=============================================================

\section{Offseason}
\section{Kickoff}
\section{Build Season}
\subsection{Early Build Season}
\subsection{Late Build Season}
\section{Competition Season}
\section{Championships}

%=============================================================%=============================================================

\chapter{Conclusion}

\section{Review}
\subsection{Overall}
\subsection{Infrastructure}

%=============================================================%=============================================================

\printbibliography[heading=bibintoc]

\end{document}

